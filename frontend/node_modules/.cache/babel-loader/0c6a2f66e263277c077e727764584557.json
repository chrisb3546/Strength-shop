{"ast":null,"code":"export const setCurrentUser = user => {\n  return {\n    type: \"SET_CURRENT_USER\",\n    user\n  };\n};\nexport const clearCurrentUser = () => {\n  return {\n    type: \"CLEAR_CURRENT_USER\"\n  };\n};\nexport const login = credentials => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/login\", {\n      credentials: \"include\",\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    }).then(res => res.json()).then(user => {\n      if (user.error) {\n        alert(user.error);\n      } else {\n        dispatch(setCurrentUser(user));\n      }\n    });\n  };\n};\nexport const findCurrentUser = () => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/get_current_user\", {\n      credentials: \"include\",\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      }\n    }).then(res => res.json()).then(user => {\n      if (user.error) {\n        alert(user.error);\n      } else {\n        dispatch(setCurrentUser(user));\n      }\n    });\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    dispatch(clearCurrentUser());\n    return fetch(\"http://localhost3001/delete\", {\n      credentials: \"include\",\n      method: \"DELETE\"\n    });\n  };\n};","map":{"version":3,"sources":["/Users/selinnaescabi/Development/code/strength-shop/frontend/src/actions/currentUser.js"],"names":["setCurrentUser","user","type","clearCurrentUser","login","credentials","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","error","alert","findCurrentUser","logout"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAGC,IAAI,IAAG;AAEjC,SAAM;AACFC,IAAAA,IAAI,EAAE,kBADJ;AAEFD,IAAAA;AAFE,GAAN;AAIH,CANM;AAQP,OAAO,MAAME,gBAAgB,GAAG,MAAM;AAClC,SAAO;AACHD,IAAAA,IAAI,EAAE;AADH,GAAP;AAGH,CAJM;AAMP,OAAO,MAAME,KAAK,GAAGC,WAAW,IAAI;AAElC,SAAOC,QAAQ,IAAI;AACb,WAAOC,KAAK,CAAC,6BAAD,EAAgC;AACxCF,MAAAA,WAAW,EAAE,SAD2B;AAEpCG,MAAAA,MAAM,EAAE,MAF4B;AAGpCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAH2B;AAQpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,WAAf;AAR8B,KAAhC,CAAL,CAUNQ,IAVM,CAUDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVN,EAWNF,IAXM,CAWDZ,IAAI,IAAI;AACV,UAAGA,IAAI,CAACe,KAAR,EAAc;AACVC,QAAAA,KAAK,CAAChB,IAAI,CAACe,KAAN,CAAL;AACH,OAFD,MAGI;AACAV,QAAAA,QAAQ,CAACN,cAAc,CAACC,IAAD,CAAf,CAAR;AACH;AAEJ,KAnBM,CAAP;AAqBH,GAtBH;AAwBD,CA1BM;AA4BP,OAAO,MAAMiB,eAAe,GAAG,MAAM;AAEjC,SAAOZ,QAAQ,IAAI;AACf,WAAOC,KAAK,CAAC,wCAAD,EAA2C;AACnDF,MAAAA,WAAW,EAAE,SADsC;AAEnDG,MAAAA,MAAM,EAAE,KAF2C;AAGnDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL;AAH0C,KAA3C,CAAL,CAUVI,IAVU,CAULC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVF,EAWVF,IAXU,CAWLZ,IAAI,IAAI;AACV,UAAGA,IAAI,CAACe,KAAR,EAAc;AACVC,QAAAA,KAAK,CAAChB,IAAI,CAACe,KAAN,CAAL;AACH,OAFD,MAGI;AACAV,QAAAA,QAAQ,CAACN,cAAc,CAACC,IAAD,CAAf,CAAR;AACH;AAEJ,KAnBU,CAAP;AAoBH,GArBD;AAuBH,CAzBM;AA6BP,OAAO,MAAMkB,MAAM,GAAG,MAAO;AACzB,SAAQb,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,gBAAgB,EAAjB,CAAR;AACA,WAAOI,KAAK,CAAC,6BAAD,EAA+B;AACvCF,MAAAA,WAAW,EAAE,SAD0B;AAEvCG,MAAAA,MAAM,EAAE;AAF+B,KAA/B,CAAZ;AAKH,GAPD;AASH,CAVM","sourcesContent":["export const setCurrentUser = user =>{\n    \n    return{\n        type: \"SET_CURRENT_USER\",\n        user\n    }\n}\n\nexport const clearCurrentUser = () => {\n    return {\n        type: \"CLEAR_CURRENT_USER\"\n    }\n}\n\nexport const login = credentials => {\n   \n  return dispatch => {\n        return fetch(\"http://localhost:3001/login\", {\n            credentials: \"include\", \n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n\n                },\n                body: JSON.stringify(credentials)\n        }) \n        .then(res => res.json())\n        .then(user => {\n            if(user.error){\n                alert(user.error)\n            }\n            else{\n                dispatch(setCurrentUser(user))\n            }\n\n        })\n        \n    }\n\n}\n\nexport const findCurrentUser = () => {\n    \n    return dispatch => {\n        return fetch(\"http://localhost:3001/get_current_user\", {\n            credentials: \"include\",\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n\n            },\n            \n    }) \n    .then(res => res.json())\n    .then(user => {\n        if(user.error){\n            alert(user.error)\n        }\n        else{\n            dispatch(setCurrentUser(user))\n        }\n\n    })\n    }\n\n}\n\n\n\nexport const logout = () =>  {\n    return (dispatch) => {\n        dispatch(clearCurrentUser())\n        return fetch(\"http://localhost3001/delete\",{\n            credentials: \"include\",\n            method: \"DELETE\",\n            \n        })\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}