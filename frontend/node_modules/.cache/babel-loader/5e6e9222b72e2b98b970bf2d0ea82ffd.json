{"ast":null,"code":"export const setCurrentUser = user => {\n  return {\n    type: \"SET_CURRENT_USER\",\n    user\n  };\n};\nexport const login = credentials => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    }).then(res => res.json()).then(user => {\n      if (user.error) {\n        alert(user.error);\n      } else {\n        dispatch(setCurrentUser(user));\n      }\n    });\n  };\n};\nexport const findCurrentUser = () => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/get_current_user\", {\n      credentials: \"include\",\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      }\n    }).then(res => res.json()).then(user => {\n      if (user.error) {\n        alert(user.error);\n      } else {\n        dispatch(setCurrentUser(user));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/selinnaescabi/Development/code/strength-shop/frontend/src/actions/currentUser.js"],"names":["setCurrentUser","user","type","login","credentials","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","error","alert","findCurrentUser"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAGC,IAAI,IAAG;AAEjC,SAAM;AACFC,IAAAA,IAAI,EAAE,kBADJ;AAEFD,IAAAA;AAFE,GAAN;AAIH,CANM;AAQP,OAAO,MAAME,KAAK,GAAGC,WAAW,IAAI;AAElC,SAAOC,QAAQ,IAAI;AACb,WAAOC,KAAK,CAAC,6BAAD,EAAgC;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAF2B;AAOpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,WAAf;AAP8B,KAAhC,CAAL,CASNQ,IATM,CASDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EATN,EAUNF,IAVM,CAUDX,IAAI,IAAI;AACV,UAAGA,IAAI,CAACc,KAAR,EAAc;AACVC,QAAAA,KAAK,CAACf,IAAI,CAACc,KAAN,CAAL;AACH,OAFD,MAGI;AACAV,QAAAA,QAAQ,CAACL,cAAc,CAACC,IAAD,CAAf,CAAR;AACH;AAEJ,KAlBM,CAAP;AAoBH,GArBH;AAuBD,CAzBM;AA2BP,OAAO,MAAMgB,eAAe,GAAG,MAAM;AAEjC,SAAOZ,QAAQ,IAAI;AACf,WAAOC,KAAK,CAAC,wCAAD,EAA2C;AACnDF,MAAAA,WAAW,EAAE,SADsC;AAEnDG,MAAAA,MAAM,EAAE,KAF2C;AAGnDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL;AAH0C,KAA3C,CAAL,CAUVI,IAVU,CAULC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVF,EAWVF,IAXU,CAWLX,IAAI,IAAI;AACV,UAAGA,IAAI,CAACc,KAAR,EAAc;AACVC,QAAAA,KAAK,CAACf,IAAI,CAACc,KAAN,CAAL;AACH,OAFD,MAGI;AACAV,QAAAA,QAAQ,CAACL,cAAc,CAACC,IAAD,CAAf,CAAR;AACH;AAEJ,KAnBU,CAAP;AAoBH,GArBD;AAuBH,CAzBM","sourcesContent":["export const setCurrentUser = user =>{\n    \n    return{\n        type: \"SET_CURRENT_USER\",\n        user\n    }\n}\n\nexport const login = credentials => {\n   \n  return dispatch => {\n        return fetch(\"http://localhost:3001/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n\n                },\n                body: JSON.stringify(credentials)\n        }) \n        .then(res => res.json())\n        .then(user => {\n            if(user.error){\n                alert(user.error)\n            }\n            else{\n                dispatch(setCurrentUser(user))\n            }\n\n        })\n        \n    }\n\n}\n\nexport const findCurrentUser = () => {\n    \n    return dispatch => {\n        return fetch(\"http://localhost:3001/get_current_user\", {\n            credentials: \"include\",\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n\n            },\n            \n    }) \n    .then(res => res.json())\n    .then(user => {\n        if(user.error){\n            alert(user.error)\n        }\n        else{\n            dispatch(setCurrentUser(user))\n        }\n\n    })\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}